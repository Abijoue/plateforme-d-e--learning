@page
@model MyApp.Namespace.MatiereListModel
@{
}
 
<div class="container p-3 my-3 bg-success text-white">
    <h1>Liste de Matiéres</h1>
  </div><br/>
      <a class="btn btn-primary" href="/Matiere/AddMatiere" role="button">Ajouter Matiere</a>
  <br/><br/>

<form method="post">
      <table class="table">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Num ° ID</th>
            <th scope="col">Nom de Matiere</th>
            <th scope="col">Nom de Filiere</th>
            <th scope="col">Professeur</th>
            <th scope="col"></th>
            <th scope="col"></th>
          </tr>
        </thead>
        <tbody>

          @foreach (var Subject in Model.matieres){
          <tr>
            <th>@Subject.IdMatiere</th>
            <td>@Subject.NomMatiere</td>
            @{var idprof =  Subject.IdProf; }
             @foreach (var prof in Model.utilisateurs)
            {
              @if(prof.Id == Subject.IdProf){
                <td>@prof.Nom <i>@prof.Prenom</i></td>
              }
            }
            @foreach (var fil in Model.filieres)
            {
              @if(fil.IdFiliere == Subject.IdFiliere){
                <td> <i>@fil.NomFiliere</i></td>
              }
            } 
            <td> 
              <button type="submit" class="btn btn-danger" onclick="return confirm('Are you sure that u want to delete the Subject ?')"
              asp-page-handler="delete" asp-route-id="@Subject.IdMatiere" > Delete </button>
            </td>
                <td><a asp-page="./" asp-route-id="@Subject.IdMatiere" class="btn btn-dark" > EDIT</a>  </td>
          </tr>
          }
        </tbody>
      </table>
</form>
</div>
<br> <br> <br>